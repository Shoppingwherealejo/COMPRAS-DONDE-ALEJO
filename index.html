// app.js - funcional con Firebase actualizado

// 1. Configuraci√≥n de Firebase
const firebaseConfig = {
  apiKey: "AIzaSyEXAMPLE",
  authDomain: "compras-donde-alejo.firebaseapp.com",
  projectId: "compras-donde-alejo",
  storageBucket: "compras-donde-alejo.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// 2. Elementos
const adminBtn = document.getElementById('adminBtn');
const productForm = document.getElementById('product-form');
const productContainer = document.getElementById('products');
const categoryFilter = document.getElementById('categoryFilter');
const refreshBtn = document.getElementById('refreshBtn');

let isAdmin = false;
let editingId = null;

// 3. Activar modo admin
adminBtn.addEventListener('click', async () => {
  const { value: pass } = await Swal.fire({
    title: 'Ingresa la clave secreta',
    input: 'password',
    inputLabel: 'Clave de acceso',
    inputPlaceholder: 'Escribe la clave',
    inputAttributes: { maxlength: 20, autocapitalize: 'off', autocorrect: 'off' },
    showCancelButton: true
  });
  if (pass === 'Alejo123') {
    isAdmin = true;
    productForm.style.display = 'block';
    renderForm();
    Swal.fire('Acceso concedido', '', 'success');
  } else if (pass) {
    Swal.fire('Clave incorrecta', '', 'error');
  }
});

// 4. Obtener y mostrar productos
async function fetchProducts() {
  const snapshot = await db.collection('productos').get();
  const productos = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
  renderProducts(productos);
  renderCategories(productos);
}

refreshBtn.addEventListener('click', fetchProducts);
categoryFilter.addEventListener('change', fetchProducts);

// 5. Renderizar productos
function renderProducts(productos) {
  const categoria = categoryFilter.value;
  productContainer.innerHTML = '';
  productos
    .filter(p => !categoria || p.categoria === categoria)
    .forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card row';
      card.innerHTML = `
        <div class="col-md-4">
          <img src="${p.imagen}" class="product-img" alt="${p.nombre}" />
        </div>
        <div class="col-md-8">
          <h3>${p.nombre}</h3>
          <p>Categor√≠a: ${p.categoria}</p>
          <p>Precio: $${p.precio}</p>
          <a href="https://wa.me/573115750320?text=Hola! Quiero comprar: ${encodeURIComponent(p.nombre)}" class="btn btn-success" target="_blank">Comprar por WhatsApp</a>
          ${isAdmin ? `
            <button class="btn btn-warning btn-sm ms-2" onclick="editProduct('${p.id}')">Editar</button>
            <button class="btn btn-danger btn-sm ms-2" onclick="deleteProduct('${p.id}')">Eliminar</button>` : ''}
        </div>
      `;
      productContainer.appendChild(card);
    });
}

// 6. Renderizar categor√≠as √∫nicas en el filtro
function renderCategories(productos) {
  const categorias = [...new Set(productos.map(p => p.categoria))];
  categoryFilter.innerHTML = '<option value="">Todas</option>' +
    categorias.map(cat => `<option value="${cat}">${cat}</option>`).join('');
}

// 7. Guardar producto (nuevo o editado)
productForm.addEventListener('submit', async (e) => {
  e.preventDefault();
  const nombre = productForm.nombre.value;
  const categoria = productForm.categoria.value;
  const precio = productForm.precio.value;
  const imagen = productForm.imagen.value;
  
  const data = { nombre, categoria, precio, imagen };
  try {
    if (editingId) {
      await db.collection('productos').doc(editingId).update(data);
      Swal.fire('Producto actualizado', '', 'success');
    } else {
      await db.collection('productos').add(data);
      Swal.fire('Producto agregado', '', 'success');
    }
    productForm.reset();
    editingId = null;
    fetchProducts();
  } catch (err) {
    Swal.fire('Error al guardar', err.message, 'error');
  }
});

// 8. Cargar datos en formulario para editar
function editProduct(id) {
  db.collection('productos').doc(id).get().then(doc => {
    if (doc.exists) {
      const p = doc.data();
      productForm.nombre.value = p.nombre;
      productForm.categoria.value = p.categoria;
      productForm.precio.value = p.precio;
      productForm.imagen.value = p.imagen;
      editingId = id;
    }
  });
}

// 9. Eliminar producto con confirmaci√≥n
function deleteProduct(id) {
  Swal.fire({
    title: '¬øEliminar producto?',
    icon: 'warning',
    showCancelButton: true,
    confirmButtonText: 'S√≠, eliminar',
    cancelButtonText: 'Cancelar'
  }).then(async (result) => {
    if (result.isConfirmed) {
      await db.collection('productos').doc(id).delete();
      Swal.fire('Producto eliminado', '', 'success');
      fetchProducts();
    }
  });
}

// 10. Mostrar productos al cargar
fetchProducts();
// app.js - funcional con Firebase actualizado

// 1. Configuraci√≥n de Firebase
const firebaseConfig = {
  apiKey: "AIzaSyEXAMPLE",
  authDomain: "compras-donde-alejo.firebaseapp.com",
  projectId: "compras-donde-alejo",
  storageBucket: "compras-donde-alejo.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// 2. Elementos
const adminBtn = document.getElementById('adminBtn');
const productForm = document.getElementById('product-form');
const productContainer = document.getElementById('products');
const categoryFilter = document.getElementById('categoryFilter');
const refreshBtn = document.getElementById('refreshBtn');

let isAdmin = false;
let editingId = null;

// 3. Activar modo admin
adminBtn.addEventListener('click', async () => {
  const { value: pass } = await Swal.fire({
    title: 'Ingresa la clave secreta',
    input: 'password',
    inputLabel: 'Clave de acceso',
    inputPlaceholder: 'Escribe la clave',
    inputAttributes: { maxlength: 20, autocapitalize: 'off', autocorrect: 'off' },
    showCancelButton: true
  });
  if (pass === 'Alejo123') {
    isAdmin = true;
    productForm.style.display = 'block';
    renderForm();
    Swal.fire('Acceso concedido', '', 'success');
  } else if (pass) {
    Swal.fire('Clave incorrecta', '', 'error');
  }
});

// 4. Obtener y mostrar productos
async function fetchProducts() {
  const snapshot = await db.collection('productos').get();
  const productos = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));
  renderProducts(productos);
  renderCategories(productos);
}

refreshBtn.addEventListener('click', fetchProducts);
categoryFilter.addEventListener('change', fetchProducts);

// 5. Renderizar productos
function renderProducts(productos) {
  const categoria = categoryFilter.value;
  productContainer.innerHTML = '';
  productos
    .filter(p => !categoria || p.categoria === categoria)
    .forEach(p => {
      const card = document.createElement('div');
      card.className = 'product-card row';
      card.innerHTML = `
        <div class="col-md-4">
          <img src="${p.imagen}" class="product-img" alt="${p.nombre}" />
        </div>
        <div class="col-md-8">
          <h3>${p.nombre}</h3>
          <p>Categor√≠a: ${p.categoria}</p>
          <p>Precio: $${p.precio}</p>
          <a href="https://wa.me/573115750320?text=Hola! Quiero comprar: ${encodeURIComponent(p.nombre)}" class="btn btn-success" target="_blank">Comprar por WhatsApp</a>
          ${isAdmin ? `
            <button class="btn btn-warning btn-sm ms-2" onclick="editProduct('${p.id}')">Editar</button>
            <button class="btn btn-danger btn-sm ms-2" onclick="deleteProduct('${p.id}')">Eliminar</button>` : ''}
        </div>
      `;
      productContainer.appendChild(card);
    });
}

// 6. Renderizar categor√≠as √∫nicas en el filtro
function renderCategories(productos) {
  const categorias = [...new Set(productos.map(p => p.categoria))];
  categoryFilter.innerHTML = '<option value="">Todas</option>' +
    categorias.map(cat => `<option value="${cat}">${cat}</option>`).join('');
}

// 7. Guardar producto (nuevo o editado)
productForm.addEventListener('submit', async (e) => {
  e.preventDefault();
  const nombre = productForm.nombre.value;
  const categoria = productForm.categoria.value;
  const precio = productForm.precio.value;
  const imagen = productForm.imagen.value;
  
  const data = { nombre, categoria, precio, imagen };
  try {
    if (editingId) {
      await db.collection('productos').doc(editingId).update(data);
      Swal.fire('Producto actualizado', '', 'success');
    } else {
      await db.collection('productos').add(data);
      Swal.fire('Producto agregado', '', 'success');
    }
    productForm.reset();
    editingId = null;
    fetchProducts();
  } catch (err) {
    Swal.fire('Error al guardar', err.message, 'error');
  }
});

// 8. Cargar datos en formulario para editar
function editProduct(id) {
  db.collection('productos').doc(id).get().then(doc => {
    if (doc.exists) {
      const p = doc.data();
      productForm.nombre.value = p.nombre;
      productForm.categoria.value = p.categoria;
      productForm.precio.value = p.precio;
      productForm.imagen.value = p.imagen;
      editingId = id;
    }
  });
}

// 9. Eliminar producto con confirmaci√≥n
function deleteProduct(id) {
  Swal.fire({
    title: '¬øEliminar producto?',
    icon: 'warning',
    showCancelButton: true,
    confirmButtonText: 'S√≠, eliminar',
    cancelButtonText: 'Cancelar'
  }).then(async (result) => {
    if (result.isConfirmed) {
      await db.collection('productos').doc(id).delete();
      Swal.fire('Producto eliminado', '', 'success');
      fetchProducts();
    }
  });
}

// 10. Mostrar productos al cargar
fetchProducts();
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>COMPRAS DONDE ALEJO</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="logo-alejo.png" />
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database-compat.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
  <header class="header">
    <div class="header-left">
      <button id="adminToggle">üîß</button>
    </div>
    <div class="header-center">
      <h1>COMPRAS DONDE ALEJO</h1>
      <p>¬°Bienvenido a tu tienda de confianza!</p>
    </div>
    <div class="header-right">
      <img src="logo-alejo.png" alt="Logo" class="logo" />
    </div>
  </header>

  <section class="admin-panel" id="adminPanel" style="display: none;">
    <form id="productForm">
      <h2>Agregar/Editar Producto</h2>
      <input type="hidden" id="productId" />
      <input type="text" id="nombre" placeholder="Nombre" required />
      <input type="text" id="categoria" placeholder="Categor√≠a" required />
      <input type="number" id="precio" placeholder="Precio" required />
      <input type="url" id="imagen" placeholder="URL de imagen" required />
      <button type="submit">Guardar Producto</button>
    </form>
  </section>

  <section class="filtros">
    <select id="categoriaFiltro">
      <option value="Todas">Todas las categor√≠as</option>
    </select>
    <button id="refrescarProductos">üîÑ Refrescar</button>
  </section>

  <main>
    <div id="productosContainer" class="productos-grid"></div>
  </main>
  <footer class="footer">
    <div class="footer-content">
      <h3>Contacto y Redes Sociales</h3>
      <div class="social-icons">
        <a href="https://facebook.com/comprasdondealejo" target="_blank" title="Facebook">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook" />
        </a>
        <a href="https://instagram.com/comprasdondealejo" target="_blank" title="Instagram">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/instagram.svg" alt="Instagram" />
        </a>
        <a href="https://www.tiktok.com/@comprasdondealejo" target="_blank" title="TikTok">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/tiktok.svg" alt="TikTok" />
        </a>
        <a href="https://wa.me/573115750320" target="_blank" title="WhatsApp">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/whatsapp.svg" alt="WhatsApp" />
        </a>
        <a href="https://t.me/comprasdondealejo" target="_blank" title="Telegram">
          <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/telegram.svg" alt="Telegram" />
        </a>
      </div>
      <p>&copy; 2025 COMPRAS DONDE ALEJO. Todos los derechos reservados.</p>
    </div>
  </footer>
</body>
</html>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', sans-serif;
  background-color: #121212;
  color: #fff;
  padding: 10px;
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background-color: #1f1f1f;
  padding: 20px;
  border-radius: 10px;
}

.header-left button {
  font-size: 24px;
  background: none;
  border: none;
  color: #00aaff;
  cursor: pointer;
}

.header-center {
  text-align: center;
}

.header-center h1 {
  font-size: 28px;
  color: #00aaff;
}

.header-center p {
  font-size: 16px;
  color: #aaa;
}

.logo {
  width: 60px;
  height: auto;
}

.admin-panel {
  background: #1f1f1f;
  padding: 20px;
  margin-top: 20px;
  border-radius: 10px;
}

.admin-panel input, .admin-panel button {
  display: block;
  width: 100%;
  margin-bottom: 10px;
  padding: 10px;
  border-radius: 8px;
  border: none;
}

.admin-panel button {
  background-color: #00aaff;
  color: white;
  cursor: pointer;
  font-weight: bold;
}

.filtros {
  margin: 20px 0;
  display: flex;
  gap: 10px;
  align-items: center;
}

.filtros select, .filtros button {
  padding: 10px;
  border-radius: 8px;
  border: none;
}

#productosContainer {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
  gap: 20px;
}

.producto {
  background-color: #1f1f1f;
  padding: 15px;
  border-radius: 10px;
  text-align: center;
}

.producto img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: 6px;
}

.producto h3 {
  margin: 10px 0 5px;
  font-size: 18px;
  color: #00aaff;
}

.producto p {
  margin: 2px 0;
}

.producto .acciones {
  margin-top: 10px;
  display: flex;
  justify-content: center;
  gap: 8px;
}

.producto .acciones button {
  background-color: #00aaff;
  color: white;
  border: none;
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
}

.footer {
  margin-top: 40px;
  padding: 30px 10px;
  background-color: #1f1f1f;
  text-align: center;
  border-radius: 10px;
}

.footer-content h3 {
  margin-bottom: 15px;
  color: #00aaff;
}

.footer-content .social-icons {
  display: flex;
  justify-content: center;
  gap: 20px;
  flex-wrap: wrap;
  margin-bottom: 15px;
}

.footer-content .social-icons img {
  width: 30px;
  height: 30px;
  filter: brightness(0) invert(1);
  transition: transform 0.3s;
}

.footer-content .social-icons img:hover {
  transform: scale(1.2);
}

.footer-content p {
  color: #888;
  font-size: 14px;
}
// Configuraci√≥n de Firebase
const firebaseConfig = {
  apiKey: "AIzaSyEXAMPLE",
  authDomain: "compras-donde-alejo.firebaseapp.com",
  projectId: "compras-donde-alejo",
  storageBucket: "compras-donde-alejo.appspot.com",
  messagingSenderId: "123456789",
  appId: "1:123456789:web:abc123"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

const productosContainer = document.getElementById('productosContainer');
const adminPanel = document.getElementById('adminPanel');
const filtroCategoria = document.getElementById('filtroCategoria');
const btnAdmin = document.getElementById('btnAdmin');
const btnFiltrar = document.getElementById('btnFiltrar');
const btnRefrescar = document.getElementById('btnRefrescar');

btnAdmin.addEventListener('click', () => {
  const clave = prompt("Ingresa la clave secreta:");
  if (clave === "Alejo123") {
    adminPanel.style.display = 'block';
  } else {
    alert("Clave incorrecta.");
  }
});

btnFiltrar.addEventListener('click', () => {
  const categoriaSeleccionada = filtroCategoria.value;
  cargarProductos(categoriaSeleccionada);
});

btnRefrescar.addEventListener('click', () => {
  filtroCategoria.value = '';
  cargarProductos();
});

function cargarProductos(filtro = '') {
  productosContainer.innerHTML = '';
  let query = db.collection("productos");
  if (filtro) query = query.where("categoria", "==", filtro);
  query.get().then((querySnapshot) => {
    querySnapshot.forEach((doc) => {
      const producto = doc.data();
      const productoDiv = document.createElement('div');
      productoDiv.classList.add('producto');
      productoDiv.innerHTML = `
        <img src="${producto.imagenURL}" alt="${producto.nombre}">
        <h3>${producto.nombre}</h3>
        <p><strong>Categor√≠a:</strong> ${producto.categoria}</p>
        <p><strong>Precio:</strong> $${producto.precio}</p>
        <div class="acciones">
          <a href="https://wa.me/573115750320?text=Hola!%20Estoy%20interesado%20en%20comprar:%20${encodeURIComponent(producto.nombre)}" target="_blank">
            <button>Comprar</button>
          </a>
          <button onclick="editarProducto('${doc.id}')">Editar</button>
          <button onclick="eliminarProducto('${doc.id}')">Eliminar</button>
        </div>
      `;
      productosContainer.appendChild(productoDiv);
    });
  });
}

document.getElementById('formAgregar').addEventListener('submit', async (e) => {
  e.preventDefault();
  const nombre = document.getElementById('nombre').value;
  const categoria = document.getElementById('categoria').value;
  const precio = parseFloat(document.getElementById('precio').value);
  const imagenURL = document.getElementById('imagenURL').value;

  await db.collection("productos").add({ nombre, categoria, precio, imagenURL });
  e.target.reset();
  cargarProductos();
});

function editarProducto(id) {
  const nuevoNombre = prompt("Nuevo nombre:");
  const nuevaCategoria = prompt("Nueva categor√≠a:");
  const nuevoPrecio = prompt("Nuevo precio:");
  const nuevaImagen = prompt("Nueva URL de imagen:");
  if (nuevoNombre && nuevaCategoria && nuevoPrecio && nuevaImagen) {
    db.collection("productos").doc(id).update({
      nombre: nuevoNombre,
      categoria: nuevaCategoria,
      precio: parseFloat(nuevoPrecio),
      imagenURL: nuevaImagen
    }).then(() => cargarProductos());
  }
}

function eliminarProducto(id) {
  if (confirm("¬øEst√°s seguro de que deseas eliminar este producto?")) {
    db.collection("productos").doc(id).delete().then(() => cargarProductos());
  }
}

cargarProductos();
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>COMPRAS DONDE ALEJO</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="logo-alejo.png" />
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
</head>
 <footer class="footer">
  <div class="footer-contenido">
    <p>Con√©ctate con nosotros</p>
    <div class="redes-sociales">
      <a href="https://wa.me/573115750320" target="_blank">
        <img src="icons/whatsapp.png" alt="WhatsApp">
      </a>
      <a href="https://facebook.com" target="_blank">
        <img src="icons/facebook.png" alt="Facebook">
      </a>
      <a href="https://instagram.com" target="_blank">
        <img src="icons/instagram.png" alt="Instagram">
      </a>
      <a href="https://tiktok.com" target="_blank">
        <img src="icons/tiktok.png" alt="TikTok">
      </a>
      <a href="https://t.me/comprasdondealejo" target="_blank">
        <img src="icons/telegram.png" alt="Telegram">
      </a>
    </div>
    <p>&copy; 2025 COMPRAS DONDE ALEJO - Todos los derechos reservados</p>
  </div>
</footer> 
<body>
<script src="app.js"></script>
</body>
</html>  
<footer class="footer">
  <div class="footer-contenido">
    <p>Cont√°ctanos en nuestras redes sociales:</p>
    <div class="redes-sociales">
      <a href="https://wa.me/573115750320" target="_blank" title="WhatsApp">
        <img src="icons/whatsapp.png" alt="WhatsApp">
      </a>
      <a href="https://facebook.com" target="_blank" title="Facebook">
        <img src="icons/facebook.png" alt="Facebook">
      </a>
      <a href="https://instagram.com" target="_blank" title="Instagram">
        <img src="icons/instagram.png" alt="Instagram">
      </a>
      <a href="https://tiktok.com/@comprasdondealejo" target="_blank" title="TikTok">
        <img src="icons/tiktok.png" alt="TikTok">
      </a>
      <a href="https://t.me/comprasdondealejo" target="_blank" title="Telegram">
        <img src="icons/telegram.png" alt="Telegram">
      </a>
    </div>
    <p>&copy; 2025 COMPRAS DONDE ALEJO. Todos los derechos reservados.</p>
  </div>
</footer>
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>COMPRAS DONDE ALEJO</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="icon" href="logo-alejo.png" type="image/png">
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
</head>
<body>
  <header>
    <div class="header-content">
      <h1>COMPRAS DONDE ALEJO</h1>
      <p>Bienvenido a tu tienda de confianza</p>
      <img src="logo-alejo.png" alt="Logo" class="logo">
      <button id="admin-btn">üîß</button>
    </div>
  </header>

  <main>
    <section class="form-section" id="admin-section" style="display:none;">
      <form id="product-form">
        <input type="text" id="nombre" placeholder="Nombre del producto" required>
        <input type="text" id="categoria" placeholder="Categor√≠a" required>
        <input type="number" id="precio" placeholder="Precio" required>
        <input type="url" id="imagen" placeholder="URL de la imagen" required>
        <button type="submit">Agregar Producto</button>
      </form>
    </section>

    <section>
      <select id="filtro-categoria">
        <option value="">Todas las categor√≠as</option>
      </select>
      <button onclick="cargarProductos()">üîÑ Refrescar</button>
    </section>

    <section id="productos" class="productos"></section>
  </main>

  <footer class="footer">
    <div class="footer-contenido">
      <p>Con√©ctate con nosotros</p>
      <div class="redes-sociales">
        <a href="https://wa.me/573115750320" target="_blank">
          <img src="icons/whatsapp.png" alt="WhatsApp">
        </a>
        <a href="https://facebook.com" target="_blank">
          <img src="icons/facebook.png" alt="Facebook">
        </a>
        <a href="https://instagram.com" target="_blank">
          <img src="icons/instagram.png" alt="Instagram">
        </a>
        <a href="https://tiktok.com" target="_blank">
          <img src="icons/tiktok.png" alt="TikTok">
        </a>
        <a href="https://t.me/comprasdondealejo" target="_blank">
          <img src="icons/telegram.png" alt="Telegram">
        </a>
      </div>
      <p>&copy; 2025 COMPRAS DONDE ALEJO - Todos los derechos reservados</p>
    </div>
  </footer>

  <script>
    const firebaseConfig = {
      apiKey: "TU_API_KEY",
      authDomain: "compras-donde-alejo.firebaseapp.com",
      databaseURL: "https://compras-donde-alejo-default-rtdb.firebaseio.com",
      projectId: "compras-donde-alejo",
      storageBucket: "compras-donde-alejo.appspot.com",
      messagingSenderId: "123456789",
      appId: "1:123456789:web:abc123"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    document.getElementById("admin-btn").addEventListener("click", () => {
      const clave = prompt("Ingrese la clave de administrador");
      if (clave === "Alejo123") {
        document.getElementById("admin-section").style.display = "block";
      } else {
        alert("Clave incorrecta");
      }
    });

    document.getElementById("product-form").addEventListener("submit", (e) => {
      e.preventDefault();
      const nombre = document.getElementById("nombre").value;
      const categoria = document.getElementById("categoria").value;
      const precio = parseFloat(document.getElementById("precio").value);
      const imagen = document.getElementById("imagen").value;
      const nuevoProducto = db.ref("productos").push();
      nuevoProducto.set({ nombre, categoria, precio, imagen });
      e.target.reset();
      cargarProductos();
    });

    function cargarProductos() {
      const contenedor = document.getElementById("productos");
      contenedor.innerHTML = "";
      const filtro = document.getElementById("filtro-categoria").value;
      db.ref("productos").once("value", (snapshot) => {
        const categorias = new Set();
        snapshot.forEach((child) => {
          const { nombre, categoria, precio, imagen } = child.val();
          categorias.add(categoria);
          if (!filtro || filtro === categoria) {
            const div = document.createElement("div");
            div.className = "producto";
            div.innerHTML = `
              <img src="${imagen}" alt="${nombre}" />
              <h3>${nombre}</h3>
              <p>Categor√≠a: ${categoria}</p>
              <p>$${precio}</p>
              <a href="https://wa.me/573115750320?text=Hola, me interesa el producto: ${nombre}" target="_blank">Comprar por WhatsApp</a>
              <button onclick="editarProducto('${child.key}')">‚úèÔ∏è</button>
              <button onclick="eliminarProducto('${child.key}')">üóëÔ∏è</button>
            `;
            contenedor.appendChild(div);
          }
        });
        const filtroSelect = document.getElementById("filtro-categoria");
        filtroSelect.innerHTML = '<option value="">Todas las categor√≠as</option>';
        categorias.forEach((cat) => {
          const opt = document.createElement("option");
          opt.value = cat;
          opt.textContent = cat;
          filtroSelect.appendChild(opt);
        });
      });
    }

    function eliminarProducto(id) {
      if (confirm("¬øEst√°s seguro de eliminar este producto?")) {
        db.ref("productos/" + id).remove().then(cargarProductos);
      }
    }

    function editarProducto(id) {
      const nuevoNombre = prompt("Nuevo nombre:");
      const nuevaCategoria = prompt("Nueva categor√≠a:");
      const nuevoPrecio = prompt("Nuevo precio:");
      const nuevaImagen = prompt("Nueva URL de imagen:");
      if (nuevoNombre && nuevaCategoria && nuevoPrecio && nuevaImagen) {
        db.ref("productos/" + id).update({
          nombre: nuevoNombre,
          categoria: nuevaCategoria,
          precio: parseFloat(nuevoPrecio),
          imagen: nuevaImagen
        }).then(cargarProductos);
      }
    }

    cargarProductos();
  </script>
</body>
</html>
/* === Parte 1: Estilos Generales y Encabezado === */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Segoe UI', sans-serif;
  background-color: #111;
  color: #fff;
  padding-bottom: 100px;
}

header {
  background-color: #222;
  padding: 20px;
  text-align: center;
  position: relative;
}

header h1 {
  font-size: 2rem;
  color: #00aaff;
  margin-bottom: 10px;
}

header p {
  font-size: 1rem;
  color: #ccc;
}

header img.logo {
  position: absolute;
  top: 20px;
  right: 20px;
  height: 50px;
}

#admin-btn {
  position: absolute;
  top: 20px;
  left: 20px;
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
  color: #00aaff;
}
/* === Parte 2: Cat√°logo de Productos === */
#productos {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(230px, 1fr));
  gap: 20px;
  padding: 20px;
  max-width: 1200px;
  margin: 0 auto;
}

.producto {
  background-color: #1a1a1a;
  border-radius: 10px;
  padding: 15px;
  text-align: center;
  box-shadow: 0 0 5px #000;
  transition: transform 0.3s ease;
}

.producto:hover {
  transform: scale(1.02);
}

.producto img {
  max-width: 100%;
  height: 180px;
  object-fit: contain;
  margin-bottom: 10px;
}

.producto h3 {
  color: #00aaff;
  margin-bottom: 5px;
}

.producto p {
  margin: 5px 0;
}

.producto .btns {
  margin-top: 10px;
}

.boton-whatsapp {
  background-color: #25D366;
  color: white;
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  text-decoration: none;
  display: inline-block;
  font-size: 0.9rem;
}

.boton-editar, .boton-eliminar {
  background-color: #007bff;
  border: none;
  padding: 6px 10px;
  margin: 2px;
  border-radius: 4px;
  cursor: pointer;
  color: white;
  font-size: 0.8rem;
}

.boton-eliminar {
  background-color: #dc3545;
}
/* === Parte 3: Formularios y Filtros === */
#formulario-agregar, #formulario-editar {
  background-color: #222;
  padding: 20px;
  max-width: 600px;
  margin: 20px auto;
  border-radius: 10px;
  display: none;
}

#formulario-agregar.mostrar, #formulario-editar.mostrar {
  display: block;
}

#formulario-agregar h2,
#formulario-editar h2 {
  color: #00aaff;
  margin-bottom: 10px;
  text-align: center;
}

form label {
  display: block;
  margin-top: 10px;
  font-weight: bold;
  color: #ccc;
}

form input, form select {
  width: 100%;
  padding: 8px;
  margin-top: 5px;
  border-radius: 5px;
  border: none;
  background-color: #333;
  color: white;
}

form button {
  background-color: #00aaff;
  color: white;
  border: none;
  padding: 10px 15px;
  margin-top: 15px;
  border-radius: 5px;
  cursor: pointer;
}

#filtros {
  max-width: 800px;
  margin: 30px auto 10px;
  text-align: center;
}

#filtros select {
  padding: 8px;
  border-radius: 5px;
  border: none;
  margin: 0 5px;
  background-color: #333;
  color: #fff;
}

#refrescar-btn {
  background-color: #00aaff;
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
  cursor: pointer;
  color: white;
  font-weight: bold;
  margin-top: 10px;
}
/* === Parte 4: Pie de P√°gina y Redes Sociales === */
footer {
  background-color: #000;
  padding: 40px 20px;
  text-align: center;
  color: #ccc;
  position: relative;
  margin-top: 40px;
}

footer h3 {
  font-size: 1.2rem;
  margin-bottom: 15px;
  color: #00aaff;
}

.redes-sociales {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 20px;
  margin-top: 10px;
}

.redes-sociales a {
  display: flex;
  align-items: center;
  text-decoration: none;
  color: #ccc;
  transition: color 0.3s ease;
  font-size: 0.95rem;
}

.redes-sociales a:hover {
  color: #00aaff;
}

.redes-sociales img {
  width: 24px;
  height: 24px;
  margin-right: 8px;
  filter: brightness(0) invert(1);
}

.creditos {
  margin-top: 20px;
  font-size: 0.8rem;
  color: #666;
}
